<div ng-controller="UMR.DashboardController">
    <h2>Unused Media reporting</h2>
    <p>Click the button below to run a report of all unused media in the media folder <br/>
	(Some folders are configured to be exempt from this report)</p>
	<a class="btn" ng-click="startUnusedMediaReport()" ng-disabled="unusedMedia.IsProcessingMedia" prevent-default>
		Get unused media
	</a>
	<img ng-show="unusedMedia.IsProcessingMedia" src="/App_Plugins/UnusedMediaDashboard/Frontend/Views/loading.gif">
    <p>Found unused media: {{unusedMedia.TotalUnusedMedia}} unused of {{unusedMedia.TotalAmountOfMedia}} total media.</p>
	<div ng-show="filteredMedia.length > 0">
		<table>
			<thead>
				<tr>
					<th>Index</th>
					<th>Name</th>
					<th>Path</th>
					<th>Source</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="link in filteredMedia">
					<td>{{$index + 1}}</td>
					<td>{{link.Name}}</td>
					<td>{{link.Path}}</td>
					<td ng-show="link.Source != null"><a href="{{link.Source}}" target="_blank" rel="noopener noreferrer">Source</a></td>
					<td ng-show="link.Source == null">Source not available</td>
					<td>
						<a class="btn umb-button--xs btn-danger" ng-click="moveItemToRecycling(link.Id)" prevent-default>
							<span class="umb-button__content">
								<span class="umb-button__icon umb-icon">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
										<path d="M122.844 475.519h263.145V195.703H122.844v279.816zm181.281-223.79c0-8.498 6.891-15.386 15.395-15.386 8.494 0 15.385 6.888 15.385 15.386v162.128c0 8.496-6.891 15.394-15.385 15.394-8.504 0-15.395-6.897-15.395-15.394V251.729zm-65.101.003c0-8.496 6.892-15.392 15.39-15.392 8.496 0 15.392 6.896 15.392 15.392v162.125c0 8.496-6.896 15.391-15.392 15.391-8.498 0-15.39-6.895-15.39-15.391V251.732zm-65.098 0c0-8.501 6.895-15.392 15.389-15.392 8.498 0 15.391 6.891 15.391 15.392v162.127c0 8.498-6.893 15.389-15.391 15.389-8.494 0-15.389-6.891-15.389-15.389V251.732zM399.02 90.23h-57.209v-9.36c-.004-24.942-20.209-45.145-45.148-45.152h-84.498c-24.941.007-45.145 20.209-45.153 45.152v9.36h-57.2c-11.744 0-21.273 9.526-21.273 21.275v56.348h331.756v-56.348c-.002-11.748-9.527-21.275-21.275-21.275zm-87.989 0H197.785l-.004-9.36c.023-7.938 6.445-14.359 14.383-14.372h84.498c7.929.013 14.359 6.433 14.369 14.372v9.36z"></path>
									</svg>
								</span>
								Delete
							</span>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
		<a id="download-report" class="btn btn-success" ng-click="downloadUnusedMediaReport()" prevent-default>
			Download report
		</a>
	</div>
</div>